"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("electron"),n=require("node:path"),l=require("url"),p=require("path");var r=typeof document<"u"?document.currentScript:null;const d=l.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:r&&r.src||new URL("main.js",document.baseURI).href),R=p.dirname(d);process.env.APP_ROOT=n.join(R,"..");const s=n.join(process.env.APP_ROOT,"dist-electron"),c=n.join(process.env.APP_ROOT,".output/public");process.env.VITE_PUBLIC=process.env.VITE_DEV_SERVER_URL?n.join(process.env.APP_ROOT,"public"):c;let o;function a(){o=new e.BrowserWindow({minWidth:800,minHeight:500,webPreferences:{preload:n.join(s,"preload.js"),nodeIntegration:!0,contextIsolation:!1}}),process.env.VITE_DEV_SERVER_URL?o.loadURL(`${process.env.VITE_DEV_SERVER_URL}`).catch(t=>{console.error("Failed to load URL:",t)}):o.loadFile(n.join(process.env.VITE_PUBLIC,"index.html"))}function _(){e.ipcMain.handle("app-start-time",()=>new Date().toLocaleString())}e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(e.app.quit(),o=null)});e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&a()});e.app.whenReady().then(()=>{_(),a()});e.ipcMain.on("navigate-to-folder",(t,i)=>{o&&o.loadURL(process.env.VITE_DEV_SERVER_URL?`${process.env.VITE_DEV_SERVER_URL}${i}`:`${n.join(process.env.VITE_PUBLIC,"index.html")}${i}`)});exports.MAIN_DIST=s;exports.RENDERER_DIST=c;
