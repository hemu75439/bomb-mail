"use strict";const e=require("electron"),n=require("node:path"),_=require("url"),R=require("path");var t=typeof document<"u"?document.currentScript:null;try{let o=function(){r=new e.BrowserWindow({webPreferences:{preload:n.join(p,"preload.js")}}),process.env.VITE_DEV_SERVER_URL?r.loadURL(process.env.VITE_DEV_SERVER_URL).catch(a=>{console.error("Failed to load URL:",a,process.env.VITE_DEV_SERVER_URL)}):r.loadFile(n.join(process.env.VITE_PUBLIC,"index.html")),console.table({"process.env.VITE_PUBLIC :: ":process.env.VITE_PUBLIC,"process.env.VITE_DEV_SERVER_URL :: ":process.env.VITE_DEV_SERVER_URL})},c=function(){e.ipcMain.handle("app-start-time",()=>new Date().toLocaleString())};const s=_.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(s).href:t&&t.src||new URL("main.js",document.baseURI).href),i=R.dirname(s);process.env.APP_ROOT=n.join(i,"..");const p=n.join(process.env.APP_ROOT,"dist-electron"),l=n.join(process.env.APP_ROOT,".output/public");process.env.VITE_PUBLIC=process.env.VITE_DEV_SERVER_URL?n.join(process.env.APP_ROOT,"public"):l;let r;e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(e.app.quit(),r=null)}),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&o()}),e.app.whenReady().then(()=>{c(),o()})}catch(o){console.log("error :: ",o)}
